# v10.15.0 - stub.Object Property and Advanced Features Documentation

**Release Date:** 2026-01-12

## Summary

This release adds the `stub.Object` property to all stub patterns, providing a consistent way to access the interface/class instance. It also adds comprehensive documentation for indexers, init properties, and required properties.

## New Feature: stub.Object Property

All stub patterns now have an `Object` property that returns the stub as the target type:

```csharp
// Inline interface stub
var stub = new MyTests.Stubs.IUserService();
IUserService service = stub.Object;  // Returns IUserService

// Inline class stub
var stub = new MyTests.Stubs.EmailService();
EmailService service = stub.Object;  // Returns EmailService

// Standalone stub
var stub = new UserServiceStub();
IUserService service = stub.Object;  // Returns IUserService
```

This provides a consistent API across all stub patterns:
- `stub.Member` - Access the interceptor (tracking, callbacks)
- `stub.Object` - Access the interface/class instance

### Why stub.Object?

Previously, you had to cast the stub or use it directly as the interface:

```csharp
// Before: implicit cast
IUserService service = stub;

// After: explicit property (clearer intent)
IUserService service = stub.Object;
```

Both approaches still work, but `stub.Object` makes the intent clearer and matches the pattern used by class stubs (which require `.Object` because the stub wrapper is not the class itself).

## Documentation: Advanced Features

The README now includes an "Advanced Features" section covering:

### Indexers

```csharp
var stub = new CacheTests.Stubs.IDsCache();
IDsCache cache = stub.Object;

// Pre-populate backing dictionary
stub.Indexer.Backing["user:1"] = "Alice";

// Access through interface
var user = cache["user:1"];  // Returns "Alice"

// Multiple indexers (different key types)
stub.IndexerString.Backing["name"] = "Alice";
stub.IndexerInt32.Backing[0] = "First";
```

### Init Properties (C# 9+)

```csharp
var stub = new EntityTests.Stubs.IDsEntity();
IDsEntity entity = stub.Object;

// Configure init properties via Value
stub.Id.Value = "entity-123";
stub.Name.Value = "Test Entity";

// Read through interface
var id = entity.Id;  // "entity-123"
```

### Required Properties (C# 11+)

```csharp
var stub = new AuditTests.Stubs.DsAuditableEntity();
DsAuditableEntity entity = stub.Object;

// Configure via OnGet (class stub pattern)
stub.Id.OnGet = _ => "audit-001";
stub.CreatedBy.OnGet = _ => "admin";

// Access through object
var id = entity.Id;  // "audit-001"
```

## New Domain Types for Samples

Added documentation sample types:
- `IDsCache`, `IDsMultiIndexer` - Indexer examples
- `IDsEntity`, `IDsDocument` - Init property examples
- `DsEntityBase` - Class with virtual init properties
- `DsAuditableEntity`, `DsImmutableEntity` - Required property examples

## Upgrade Notes

No breaking changes. The `stub.Object` property is additive - existing code using implicit casts continues to work.
