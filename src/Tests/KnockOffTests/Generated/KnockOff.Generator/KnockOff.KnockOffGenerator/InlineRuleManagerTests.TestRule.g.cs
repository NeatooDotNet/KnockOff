// <auto-generated/>
#nullable enable

namespace KnockOff.Tests;

public partial class InlineRuleManagerTests
{
partial class TestRule
{
	/// <summary>Tracks and configures behavior for Executed.</summary>
	public sealed class ExecutedInterceptor
	{
		/// <summary>Number of times the getter was accessed.</summary>
		public int GetCount { get; private set; }

		/// <summary>Callback invoked when the getter is accessed. If set, its return value is used.</summary>
		public global::System.Func<TestRule, bool>? OnGet { get; set; }

		/// <summary>Value returned by getter when OnGet is not set.</summary>
		public bool Value { get; set; } = default!;

		/// <summary>Records a getter access.</summary>
		public void RecordGet() => GetCount++;

		/// <summary>Resets all tracking state.</summary>
		public void Reset() { GetCount = 0; OnGet = null; Value = default!; }
	}

	/// <summary>Tracks and configures behavior for RuleOrder.</summary>
	public sealed class RuleOrderInterceptor
	{
		/// <summary>Number of times the getter was accessed.</summary>
		public int GetCount { get; private set; }

		/// <summary>Callback invoked when the getter is accessed. If set, its return value is used.</summary>
		public global::System.Func<TestRule, int>? OnGet { get; set; }

		/// <summary>Value returned by getter when OnGet is not set.</summary>
		public int Value { get; set; } = default!;

		/// <summary>Records a getter access.</summary>
		public void RecordGet() => GetCount++;

		/// <summary>Resets all tracking state.</summary>
		public void Reset() { GetCount = 0; OnGet = null; Value = default!; }
	}

	/// <summary>Tracks and configures behavior for UniqueIndex.</summary>
	public sealed class UniqueIndexInterceptor
	{
		/// <summary>Number of times the getter was accessed.</summary>
		public int GetCount { get; private set; }

		/// <summary>Callback invoked when the getter is accessed. If set, its return value is used.</summary>
		public global::System.Func<TestRule, uint>? OnGet { get; set; }

		/// <summary>Value returned by getter when OnGet is not set.</summary>
		public uint Value { get; set; } = default!;

		/// <summary>Records a getter access.</summary>
		public void RecordGet() => GetCount++;

		/// <summary>Resets all tracking state.</summary>
		public void Reset() { GetCount = 0; OnGet = null; Value = default!; }
	}

	/// <summary>Tracks and configures behavior for Messages.</summary>
	public sealed class MessagesInterceptor
	{
		/// <summary>Number of times the getter was accessed.</summary>
		public int GetCount { get; private set; }

		/// <summary>Callback invoked when the getter is accessed. If set, its return value is used.</summary>
		public global::System.Func<TestRule, global::System.Collections.Generic.IReadOnlyList<global::Neatoo.Rules.IRuleMessage>>? OnGet { get; set; }

		/// <summary>Value returned by getter when OnGet is not set.</summary>
		public global::System.Collections.Generic.IReadOnlyList<global::Neatoo.Rules.IRuleMessage> Value { get; set; } = new global::System.Collections.Generic.List<global::Neatoo.Rules.IRuleMessage>();

		/// <summary>Records a getter access.</summary>
		public void RecordGet() => GetCount++;

		/// <summary>Resets all tracking state.</summary>
		public void Reset() { GetCount = 0; OnGet = null; Value = default!; }
	}

	/// <summary>Tracks and configures behavior for TriggerProperties.</summary>
	public sealed class TriggerPropertiesInterceptor
	{
		/// <summary>Number of times the getter was accessed.</summary>
		public int GetCount { get; private set; }

		/// <summary>Callback invoked when the getter is accessed. If set, its return value is used.</summary>
		public global::System.Func<TestRule, global::System.Collections.Generic.IReadOnlyList<global::Neatoo.Rules.ITriggerProperty>>? OnGet { get; set; }

		/// <summary>Value returned by getter when OnGet is not set.</summary>
		public global::System.Collections.Generic.IReadOnlyList<global::Neatoo.Rules.ITriggerProperty> Value { get; set; } = new global::System.Collections.Generic.List<global::Neatoo.Rules.ITriggerProperty>();

		/// <summary>Records a getter access.</summary>
		public void RecordGet() => GetCount++;

		/// <summary>Resets all tracking state.</summary>
		public void Reset() { GetCount = 0; OnGet = null; Value = default!; }
	}

	/// <summary>Tracks and configures behavior for RunRule.</summary>
	public sealed class RunRuleInterceptor
	{
		/// <summary>Delegate for RunRule.</summary>
		public delegate global::System.Threading.Tasks.Task<global::Neatoo.Rules.IRuleMessages> RunRuleDelegate(TestRule ko, global::Neatoo.IValidateBase target, global::System.Threading.CancellationToken? token);

		/// <summary>Number of times this method was called.</summary>
		public int CallCount { get; private set; }

		/// <summary>Whether this method was called at least once.</summary>
		public bool WasCalled => CallCount > 0;

		/// <summary>The arguments from the most recent call.</summary>
		public (global::Neatoo.IValidateBase? target, global::System.Threading.CancellationToken? token)? LastCallArgs { get; private set; }

		/// <summary>Callback invoked when this method is called.</summary>
		public RunRuleDelegate? OnCall { get; set; }

		/// <summary>Records a method call.</summary>
		public void RecordCall(global::Neatoo.IValidateBase? target, global::System.Threading.CancellationToken? token) { CallCount++; LastCallArgs = (target, token); }

		/// <summary>Resets all tracking state.</summary>
		public void Reset() { CallCount = 0; LastCallArgs = null; OnCall = null; }
	}

	/// <summary>Tracks and configures behavior for OnRuleAdded.</summary>
	public sealed class OnRuleAddedInterceptor
	{
		/// <summary>Number of times this method was called.</summary>
		public int CallCount { get; private set; }

		/// <summary>Whether this method was called at least once.</summary>
		public bool WasCalled => CallCount > 0;

		/// <summary>The arguments from the most recent call.</summary>
		public (global::Neatoo.Rules.IRuleManager? ruleManager, uint? uniqueIndex)? LastCallArgs { get; private set; }

		/// <summary>Callback invoked when this method is called.</summary>
		public global::System.Action<TestRule, global::Neatoo.Rules.IRuleManager, uint>? OnCall { get; set; }

		/// <summary>Records a method call.</summary>
		public void RecordCall(global::Neatoo.Rules.IRuleManager? ruleManager, uint? uniqueIndex) { CallCount++; LastCallArgs = (ruleManager, uniqueIndex); }

		/// <summary>Resets all tracking state.</summary>
		public void Reset() { CallCount = 0; LastCallArgs = null; OnCall = null; }
	}

	/// <summary>Interceptor for Executed.</summary>
	public ExecutedInterceptor Executed { get; } = new();

	/// <summary>Interceptor for RuleOrder.</summary>
	public RuleOrderInterceptor RuleOrder { get; } = new();

	/// <summary>Interceptor for UniqueIndex.</summary>
	public UniqueIndexInterceptor UniqueIndex { get; } = new();

	/// <summary>Interceptor for Messages.</summary>
	public MessagesInterceptor Messages { get; } = new();

	/// <summary>Interceptor for TriggerProperties.</summary>
	public TriggerPropertiesInterceptor TriggerProperties { get; } = new();

	/// <summary>Interceptor for RunRule.</summary>
	public RunRuleInterceptor RunRule { get; } = new();

	/// <summary>Interceptor for OnRuleAdded.</summary>
	public OnRuleAddedInterceptor OnRuleAdded { get; } = new();

	global::System.Threading.Tasks.Task<global::Neatoo.Rules.IRuleMessages> global::Neatoo.Rules.IRule.RunRule(global::Neatoo.IValidateBase target, global::System.Threading.CancellationToken? token)
	{
		RunRule.RecordCall(target, token);
		if (RunRule.OnCall is { } callback)
			return callback(this, target, token);
		throw new global::System.InvalidOperationException("No implementation provided for RunRule. Set RunRule.OnCall or define a protected method 'RunRule' in your partial class.");
	}

	void global::Neatoo.Rules.IRule.OnRuleAdded(global::Neatoo.Rules.IRuleManager ruleManager, uint uniqueIndex)
	{
		OnRuleAdded.RecordCall(ruleManager, uniqueIndex);
		OnRuleAdded.OnCall?.Invoke(this, ruleManager, uniqueIndex);
	}

	bool global::Neatoo.Rules.IRule.Executed
	{
		get { Executed.RecordGet(); return Executed.OnGet?.Invoke(this) ?? Executed.Value; }
	}

	int global::Neatoo.Rules.IRule.RuleOrder
	{
		get { RuleOrder.RecordGet(); return RuleOrder.OnGet?.Invoke(this) ?? RuleOrder.Value; }
	}

	uint global::Neatoo.Rules.IRule.UniqueIndex
	{
		get { UniqueIndex.RecordGet(); return UniqueIndex.OnGet?.Invoke(this) ?? UniqueIndex.Value; }
	}

	global::System.Collections.Generic.IReadOnlyList<global::Neatoo.Rules.IRuleMessage> global::Neatoo.Rules.IRule.Messages
	{
		get { Messages.RecordGet(); return Messages.OnGet?.Invoke(this) ?? Messages.Value; }
	}

	global::System.Collections.Generic.IReadOnlyList<global::Neatoo.Rules.ITriggerProperty> global::Neatoo.Rules.IRule.TriggerProperties
	{
		get { TriggerProperties.RecordGet(); return TriggerProperties.OnGet?.Invoke(this) ?? TriggerProperties.Value; }
	}

}
}
